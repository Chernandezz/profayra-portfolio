<header class="header" [ngClass]="{'header-dark': !isHomePage()}">
  <div class="container">
    <nav class="navbar navbar-expand-lg">
      <a class="navbar-brand d-flex align-items-center" routerLink="/">
        <img src="assets/profayra.png" alt="Profayra Logo" class="logo me-2">
        <span>PROFAYRA</span>
      </a>

      <button class="navbar-toggler" type="button" (click)="toggleMenu()" aria-controls="navbarNav"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Menú para pantallas grandes -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">{{
              'HEADER.NAV.HOME' | translate }}</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/projects" routerLinkActive="active">
              {{ 'HEADER.NAV.PROJECTS' | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/resources" routerLinkActive="active">
              {{ 'HEADER.NAV.RESOURCES' | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="btn btn-outline-light" href="mailto:profayra@gmail.com">
              {{ 'HEADER.NAV.CONTACT' | translate }}
            </a>
          </li>
          <!-- Language switcher para pantallas grandes -->
          <li class="nav-item ms-3 d-none d-lg-block">
            <div class="header-language-switcher">
              <button (click)="switchLanguage('en')" [class.active]="currentLang === 'en'" class="lang-btn">
                <img src="assets/flags/en.webp" alt="English" class="flag-icon">
              </button>
              <button (click)="switchLanguage('es')" [class.active]="currentLang === 'es'" class="lang-btn">
                <img src="assets/flags/es.webp" alt="Español" class="flag-icon">
              </button>
            </div>
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <!-- Panel lateral para móviles -->
  <div class="mobile-menu" [ngClass]="{'active': !isMenuCollapsed}">

    <button class="close-menu-btn" (click)="closeMenu()">
      <i class="fas fa-arrow-left"></i>
      <span>{{ 'HEADER.MOBILE_MENU.EXIT' | translate }}</span>
    </button>

    <ul class="mobile-nav">
      <li class="mobile-nav-item">
        <a class="mobile-nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
          (click)="closeMenu()">
          {{ 'HEADER.NAV.HOME' | translate }}
        </a>
      </li>
      <li class="mobile-nav-item">
        <a class="mobile-nav-link" routerLink="/projects" routerLinkActive="active" (click)="closeMenu()">
          {{ 'HEADER.NAV.PROJECTS' | translate }}
        </a>
      </li>
      <li class="mobile-nav-item">
        <a class="mobile-nav-link" routerLink="/resources" routerLinkActive="active" (click)="closeMenu()">
          {{ 'HEADER.NAV.RESOURCES' | translate }}
        </a>
      </li>
      <li class="mobile-nav-item">
        <a class="btn btn-outline-light mobile-contact-btn" href="mailto:profayra@gmail.com" (click)="closeMenu()">
          {{ 'HEADER.NAV.CONTACT' | translate }}
        </a>
      </li>

      <!-- Language switcher para móviles -->
      <li class="mobile-nav-item language-options">
        <span class="language-label">{{ 'HEADER.MOBILE_MENU.LANGUAGE_LABEL' | translate }}</span>
        <div class="mobile-language-switcher">
          <button (click)="switchLanguage('en'); $event.stopPropagation();" [class.active]="currentLang === 'en'"
            class="mobile-lang-btn">
            <img src="assets/flags/en.webp" alt="English" class="flag-icon">
            {{ 'HEADER.MOBILE_MENU.LANGUAGES.ENGLISH' | translate }}
          </button>
          <button (click)="switchLanguage('es'); $event.stopPropagation();" [class.active]="currentLang === 'es'"
            class="mobile-lang-btn">
            <img src="assets/flags/es.webp" alt="Español" class="flag-icon">
            {{ 'HEADER.MOBILE_MENU.LANGUAGES.SPANISH' | translate }}
          </button>
        </div>
      </li>
    </ul>
  </div>

  <!-- Overlay para cerrar el menú al hacer clic fuera -->
  <div class="mobile-menu-overlay" [ngClass]="{'active': !isMenuCollapsed}" (click)="closeMenu()"></div>
</header>