<!-- Main Content -->
<section class="container resources-section">
  <h2 class="section-title text-center mb-5 fw-bold">Recursos Descargables</h2>
  <p class="section-description text-center mb-3">Materiales exclusivos y herramientas que complementan nuestros
  tutoriales en YouTube </p>

  <!-- Search and Filter Bar -->
  <div class="search-filter-container mb-5">
    <div class="row">
      <div class="col-md-12">
        <div class="search-box">
          <input type="text" class="form-control" placeholder="Buscar videos o recursos..." [(ngModel)]="searchTerm"
            (keyup)="filterVideos()">
          <i class="fas fa-search search-icon"></i>
        </div>
      </div>
    </div>
  </div>

  <!-- Featured Video (if any) -->
  <div *ngIf="featuredVideo" class="featured-video-card mb-5">
    <div class="row g-0">
      <div class="col-md-6">
        <div class="featured-image">
          <img [src]="featuredVideo.thumbnail" [alt]="featuredVideo.title"
            onerror="this.src='assets/banner2.webp'">
          <div class="play-button" (click)="watchVideo(featuredVideo.videoId)">
            <i class="fas fa-play"></i>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="featured-content">
          <span class="featured-badge">Destacado</span>
          <h3 class="featured-title">{{ featuredVideo.title }}</h3>
          <p class="featured-description">{{ featuredVideo.description }}</p>
          <div class="video-tags mb-4">
            <span class="tag" *ngFor="let tag of featuredVideo.tags">{{ tag }}</span>
          </div>

          <!-- Resources Section -->
          <div *ngIf="featuredVideo.resources && featuredVideo.resources.length > 0" class="video-resources mb-4">
            <h4 class="resources-subtitle">Recursos disponibles:</h4>
            <div class="resource-buttons">
              <a *ngFor="let resource of featuredVideo.resources" [href]="resource.link" class="resource-button"
                target="_blank">
                <i [class]="getResourceIcon(resource.type)"></i> {{ resource.name }}
              </a>
            </div>
          </div>

          <div class="featured-actions">
            <button class="btn btn-primary" (click)="watchVideo(featuredVideo.videoId)">
              <i class="fab fa-youtube"></i> Ver Video
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Videos Grid -->
  <div class="videos-grid">
    <div class="video-card" *ngFor="let video of filteredVideos">
      <div class="video-thumbnail">
        <img [src]="video.thumbnail" [alt]="video.title" onerror="this.src='assets/banner2.webp'">
        
        <div class="play-button" (click)="watchVideo(video.videoId)">
          <i class="fas fa-play"></i> 
        </div>
      </div>
      <div class="video-content">
        <h3 class="video-title">{{ video.title }}</h3>
        <p class="video-description">{{ video.description }}</p>

        <!-- Resources Section -->
        <div *ngIf="video.resources && video.resources.length > 0" class="video-resources">
          <h4 class="resources-subtitle">Recursos:</h4>
          <div class="resource-buttons">
            <a *ngFor="let resource of video.resources" [href]="resource.link" class="resource-button" target="_blank">
              <i [class]="getResourceIcon(resource.type)"></i> {{ resource.name }}
            </a>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- No Results Message -->
  <div *ngIf="filteredVideos.length === 0" class="no-results-message text-center my-5">
    <i class="fas fa-search fa-3x mb-3"></i>
    <h3>No se encontraron videos</h3>
    <p>Intenta con otra búsqueda o selecciona otro tema</p>
  </div>
</section>

<!-- Newsletter Section -->
<section class="newsletter-section">
  <div class="container">
    <div class="newsletter-content">
      <h2>¿Quieres recibir notificaciones de nuevos videos?</h2>
      <p>Suscríbete para saber cuando publiquemos nuevos tutoriales y recursos.</p>
      <div class="newsletter-form">
        <div class="input-group">
          <input type="email" class="form-control" placeholder="Tu correo electrónico">
          <button class="btn btn-primary" type="button">Suscribirme</button>
        </div>
      </div>
    </div>
  </div>
</section>